[{"ver":"0.1","info":{"id":"WfKSDd","date":"1750808463","viewed":1,"name":"Fork Apple Liquid","username":"PiGIon","description":"Trying to repiicate the new liquid glass design","likes":0,"published":2,"flags":0,"usePreview":0,"tags":[]},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"\/media\/a\/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"\/media\/ap\/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define R     iResolution.xy\n#define PI    3.14159265\n#define S     smoothstep\n#define PX(a) a\/R.y\n\nmat2 Rot (float a) {\n    return mat2(cos(a), sin(-a), sin(a), cos(a)); \n}\n\nfloat Box (vec2 p, vec2 b) {\n    vec2 d = abs(p) - b;\n    return length(max(d,0.)) + min(max(d.x,d.y),0.);\n}\n\nfloat IconPhoto (vec2 uv) {\n    float c = 0.;\n    for (float i = 0.; i < 1.; i+=1.\/8.) {\n        vec2 u = uv;\n        u *= Rot(i * 2. * PI);\n        u += vec2(0., PX(40.));\n        float b = Box(u, vec2(PX(0.), PX(13.)));\n        c += S(PX(1.5), 0., b - PX(15.)) * .2;\n    }\n    \n    return c;\n}\n\nvec4 LiquidGlass (sampler2D tex, vec2 uv, float direction, float quality, float size) {\n   \n    vec2 radius = size\/R;\n    vec4 color = texture(tex, uv);\n    \n    for (float d = 0.; d < PI; d += PI\/direction) {\n\t\tfor (float i = 1.\/quality; i <= 1.; i += 1.\/quality) {\n\t\t\tcolor += texture(tex, uv + vec2(cos(d),sin(d)) * radius * i);\t\t\n        }\n    }\n    \n    color \/= quality * direction;\n    return color;\n}\n\nvec4 Icon (vec2 uv) {\n    float box = Box(uv, vec2(PX(50.))),\n          boxShape = S(PX(1.5), 0., box - PX(50.)),\n          boxDisp = S(PX(35.), 0., box - PX(25.)),\n          boxLight = boxShape * S(0., PX(30.), box - PX(40.)),\n          icon = IconPhoto(uv);\n    return vec4(boxShape, boxDisp, boxLight, icon);\n}\n\nvoid mainImage(out vec4 O, in vec2 I) {\n    vec2 uv = I\/R,\n         st = (I-.5*R)\/R.y,\n         M  = iMouse.xy == vec2(0.) ? vec2(0.) : (iMouse.xy-.5*R)\/R.y;\n    \n    st += vec2(cos(-iTime), sin(-iTime))\/4.;\n    vec4 icon = Icon(st);\n    \n    vec2 uv2 = uv - iMouse.xy\/R;\n    uv2 *= .5 + .5 * S(.5, 1., icon.y);\n    uv2 += iMouse.xy\/R;\n    \n    vec3 col = mix(texture(iChannel0, uv).rgb * .8, .2 + LiquidGlass(iChannel0, uv2, 10., 10., 20.).rgb * .7, icon.x);\n    col += icon.z * .9 + icon.w;   \n    \n    col *= 1. - .2 * S(PX(80.), 0., Box(st-M+vec2(0.,PX(40.)), vec2(PX(50.))));\n    \n    O = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}]